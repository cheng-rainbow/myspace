{"ast":null,"code":"import ContentBase from '../components/ContentBase.vue';\nimport UserProfileInfo from '@/components/UserProfileInfo.vue';\nimport UserProfilePosts from '@/components/UserProfilePosts.vue';\nimport UserProfileWrite from '@/components/UserProfileWrite.vue';\nimport { reactive } from 'vue';\nimport { useRoute } from 'vue-router';\nexport default {\n  name: \"UserProfileView\",\n  components: {\n    ContentBase,\n    UserProfileInfo,\n    UserProfilePosts,\n    UserProfileWrite\n  },\n  setup: () => {\n    const Route = useRoute();\n    const userId = Route.params.userId;\n    const user = reactive({\n      id: 1,\n      username: \"ld\",\n      firstname: \"xiao\",\n      secondname: \"cheng\",\n      followercount: 10000000,\n      is_followed: false\n    });\n    const follow = () => {\n      if (user.is_followed) return;\n      user.followercount++;\n      user.is_followed = true;\n    };\n    const unfollow = () => {\n      if (!user.is_followed) return;\n      user.followercount--;\n      user.is_followed = false;\n    };\n    const posts = reactive({\n      count: 3,\n      posts: [{\n        id: 1,\n        userId: 1,\n        content: \"happy\"\n      }, {\n        id: 2,\n        userId: 2,\n        content: \"开心\"\n      }, {\n        id: 3,\n        userId: 3,\n        content: \"hello world\"\n      }]\n    });\n    const post_a_post = content => {\n      if (content.value === \"\") return;\n      posts.count++;\n      posts.posts.unshift({\n        id: posts.count,\n        userId: 1,\n        content: content.value\n      });\n    };\n    return {\n      user,\n      // 返回的必须是一个对象, 不然子组件没法接受\n      follow,\n      unfollow,\n      posts,\n      post_a_post\n    };\n  }\n};","map":{"version":3,"names":["ContentBase","UserProfileInfo","UserProfilePosts","UserProfileWrite","reactive","useRoute","name","components","setup","Route","userId","params","user","id","username","firstname","secondname","followercount","is_followed","follow","unfollow","posts","count","content","post_a_post","value","unshift"],"sources":["D:\\a.project.vscode\\项目\\vue\\myspace\\src\\views\\UserProfileView.vue"],"sourcesContent":["<template>\r\n    <ContentBase>\r\n        <div class=\"row\">\r\n            <div class=\"col-3\">\r\n                <UserProfileInfo @follow=\"follow\" @unfollow=\"unfollow\" :user=\"user\"/>\r\n                <UserProfileWrite @post_a_post=\"post_a_post\"/>\r\n            </div>\r\n            <div class=\"col-9\">\r\n                <UserProfilePosts  :posts=\"posts\"/>\r\n            </div>\r\n        </div>\r\n    </ContentBase>\r\n</template>\r\n\r\n<script>\r\nimport ContentBase from '../components/ContentBase.vue'\r\nimport UserProfileInfo from '@/components/UserProfileInfo.vue';\r\nimport UserProfilePosts from '@/components/UserProfilePosts.vue'\r\nimport UserProfileWrite from '@/components/UserProfileWrite.vue';\r\nimport { reactive } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\n\r\nexport default {\r\n\r\n    name : \"UserProfileView\",\r\n    components : {\r\n        ContentBase,\r\n        UserProfileInfo,\r\n        UserProfilePosts,\r\n        UserProfileWrite\r\n    },\r\n    setup : () => {\r\n        const Route = useRoute()\r\n        const userId = Route.params.userId;\r\n\r\n\r\n        const user = reactive({\r\n            id : 1,\r\n            username: \"ld\",\r\n            firstname : \"xiao\",\r\n            secondname : \"cheng\",\r\n            followercount : 10000000,\r\n            is_followed : false,\r\n        });\r\n\r\n        const follow = () => {\r\n            if (user.is_followed) return;\r\n            user.followercount ++ ;\r\n            user.is_followed = true;\r\n        }\r\n\r\n        const unfollow = () => {\r\n            if (!user.is_followed) return ;\r\n            user.followercount --;\r\n            user.is_followed = false;\r\n        }\r\n\r\n        const posts = reactive({\r\n            count : 3,\r\n            posts : [\r\n                {\r\n                    id : 1,\r\n                    userId : 1,\r\n                    content : \"happy\",\r\n                },\r\n                {\r\n                    id : 2,\r\n                    userId : 2,\r\n                    content : \"开心\",\r\n                },\r\n                {\r\n                    id : 3,\r\n                    userId : 3,\r\n                    content : \"hello world\",\r\n                },\r\n            ]\r\n        });\r\n\r\n        const post_a_post = (content) => {\r\n            if (content.value === \"\") return;\r\n            posts.count ++;\r\n\r\n            posts.posts.unshift({\r\n                id : posts.count,\r\n                userId : 1,\r\n                content : content.value,\r\n            })\r\n            \r\n        }\r\n\r\n        return {\r\n            user,   // 返回的必须是一个对象, 不然子组件没法接受\r\n            follow,\r\n            unfollow,\r\n            posts,\r\n            post_a_post,\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"AAeA,OAAOA,WAAU,MAAO,+BAA8B;AACtD,OAAOC,eAAc,MAAO,kCAAkC;AAC9D,OAAOC,gBAAe,MAAO,mCAAkC;AAC/D,OAAOC,gBAAe,MAAO,mCAAmC;AAChE,SAASC,QAAO,QAAS,KAAK;AAC9B,SAASC,QAAO,QAAS,YAAY;AAErC,eAAe;EAEXC,IAAG,EAAI,iBAAiB;EACxBC,UAAS,EAAI;IACTP,WAAW;IACXC,eAAe;IACfC,gBAAgB;IAChBC;EACJ,CAAC;EACDK,KAAI,EAAIA,CAAA,KAAM;IACV,MAAMC,KAAI,GAAIJ,QAAQ,CAAC;IACvB,MAAMK,MAAK,GAAID,KAAK,CAACE,MAAM,CAACD,MAAM;IAGlC,MAAME,IAAG,GAAIR,QAAQ,CAAC;MAClBS,EAAC,EAAI,CAAC;MACNC,QAAQ,EAAE,IAAI;MACdC,SAAQ,EAAI,MAAM;MAClBC,UAAS,EAAI,OAAO;MACpBC,aAAY,EAAI,QAAQ;MACxBC,WAAU,EAAI;IAClB,CAAC,CAAC;IAEF,MAAMC,MAAK,GAAIA,CAAA,KAAM;MACjB,IAAIP,IAAI,CAACM,WAAW,EAAE;MACtBN,IAAI,CAACK,aAAY,EAAG;MACpBL,IAAI,CAACM,WAAU,GAAI,IAAI;IAC3B;IAEA,MAAME,QAAO,GAAIA,CAAA,KAAM;MACnB,IAAI,CAACR,IAAI,CAACM,WAAW,EAAE;MACvBN,IAAI,CAACK,aAAY,EAAI;MACrBL,IAAI,CAACM,WAAU,GAAI,KAAK;IAC5B;IAEA,MAAMG,KAAI,GAAIjB,QAAQ,CAAC;MACnBkB,KAAI,EAAI,CAAC;MACTD,KAAI,EAAI,CACJ;QACIR,EAAC,EAAI,CAAC;QACNH,MAAK,EAAI,CAAC;QACVa,OAAM,EAAI;MACd,CAAC,EACD;QACIV,EAAC,EAAI,CAAC;QACNH,MAAK,EAAI,CAAC;QACVa,OAAM,EAAI;MACd,CAAC,EACD;QACIV,EAAC,EAAI,CAAC;QACNH,MAAK,EAAI,CAAC;QACVa,OAAM,EAAI;MACd,CAAC;IAET,CAAC,CAAC;IAEF,MAAMC,WAAU,GAAKD,OAAO,IAAK;MAC7B,IAAIA,OAAO,CAACE,KAAI,KAAM,EAAE,EAAE;MAC1BJ,KAAK,CAACC,KAAI,EAAI;MAEdD,KAAK,CAACA,KAAK,CAACK,OAAO,CAAC;QAChBb,EAAC,EAAIQ,KAAK,CAACC,KAAK;QAChBZ,MAAK,EAAI,CAAC;QACVa,OAAM,EAAIA,OAAO,CAACE;MACtB,CAAC;IAEL;IAEA,OAAO;MACHb,IAAI;MAAI;MACRO,MAAM;MACNC,QAAQ;MACRC,KAAK;MACLG;IACJ;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}