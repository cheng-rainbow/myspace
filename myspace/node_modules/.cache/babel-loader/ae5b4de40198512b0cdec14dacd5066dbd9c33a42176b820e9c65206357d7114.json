{"ast":null,"code":"import ContentBase from '../components/ContentBase.vue';\nimport UserProfileInfo from '@/components/UserProfileInfo.vue';\nimport UserProfilePosts from '@/components/UserProfilePosts.vue';\nimport UserProfileWrite from '@/components/UserProfileWrite.vue';\nimport { reactive } from 'vue';\nimport { useRoute } from 'vue-router';\nexport default {\n  name: \"UserProfileView\",\n  components: {\n    ContentBase,\n    UserProfileInfo,\n    UserProfilePosts,\n    UserProfileWrite\n  },\n  setup: () => {\n    const Route = useRoute();\n    const userId = Route.params.userId;\n    // console.log(userId);\n    const user = reactive({});\n    const posts = reactive({});\n    const follow = () => {\n      if (user.is_followed) return;\n      user.followercount++;\n      user.is_followed = true;\n    };\n    const unfollow = () => {\n      if (!user.is_followed) return;\n      user.followercount--;\n      user.is_followed = false;\n    };\n    const post_a_post = content => {\n      if (content.value === \"\") return;\n      posts.count++;\n      posts.posts.unshift({\n        id: posts.count,\n        userId: 1,\n        content: content.value\n      });\n    };\n    return {\n      user,\n      // 返回的必须是一个对象, 不然子组件没法接受\n      follow,\n      unfollow,\n      posts,\n      post_a_post,\n      userId\n    };\n  }\n};","map":{"version":3,"names":["ContentBase","UserProfileInfo","UserProfilePosts","UserProfileWrite","reactive","useRoute","name","components","setup","Route","userId","params","user","posts","follow","is_followed","followercount","unfollow","post_a_post","content","value","count","unshift","id"],"sources":["D:\\a.project.vscode\\项目\\vue\\myspace\\src\\views\\UserProfileView.vue"],"sourcesContent":["<template>\r\n    <ContentBase>\r\n        <div class=\"row\">\r\n            <div class=\"col-3\">\r\n                <UserProfileInfo @follow=\"follow\" @unfollow=\"unfollow\" :user=\"user\"/>\r\n                <UserProfileWrite @post_a_post=\"post_a_post\"/>\r\n            </div>\r\n            <div class=\"col-9\">\r\n                <UserProfilePosts  :posts=\"posts\"/>\r\n            </div>\r\n        </div>\r\n    </ContentBase>\r\n</template>\r\n\r\n<script>\r\nimport ContentBase from '../components/ContentBase.vue'\r\nimport UserProfileInfo from '@/components/UserProfileInfo.vue';\r\nimport UserProfilePosts from '@/components/UserProfilePosts.vue'\r\nimport UserProfileWrite from '@/components/UserProfileWrite.vue';\r\nimport { reactive } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\n\r\nexport default {\r\n\r\n    name : \"UserProfileView\",\r\n    components : {\r\n        ContentBase,\r\n        UserProfileInfo,\r\n        UserProfilePosts,\r\n        UserProfileWrite\r\n    },\r\n    setup : () => {\r\n        const Route = useRoute()\r\n        const userId = Route.params.userId;\r\n        // console.log(userId);\r\n        const user = reactive({});\r\n        const posts = reactive({});\r\n\r\n        const follow = () => {\r\n            if (user.is_followed) return;\r\n            user.followercount ++ ;\r\n            user.is_followed = true;\r\n        }\r\n\r\n        const unfollow = () => {\r\n            if (!user.is_followed) return ;\r\n            user.followercount --;\r\n            user.is_followed = false;\r\n        }\r\n\r\n        const post_a_post = (content) => {\r\n            if (content.value === \"\") return;\r\n            posts.count ++;\r\n\r\n            posts.posts.unshift({\r\n                id : posts.count,\r\n                userId : 1,\r\n                content : content.value,\r\n            })\r\n            \r\n        }\r\n\r\n        return {\r\n            user,   // 返回的必须是一个对象, 不然子组件没法接受\r\n            follow,\r\n            unfollow,\r\n            posts,\r\n            post_a_post,\r\n            userId,\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"AAeA,OAAOA,WAAU,MAAO,+BAA8B;AACtD,OAAOC,eAAc,MAAO,kCAAkC;AAC9D,OAAOC,gBAAe,MAAO,mCAAkC;AAC/D,OAAOC,gBAAe,MAAO,mCAAmC;AAChE,SAASC,QAAO,QAAS,KAAK;AAC9B,SAASC,QAAO,QAAS,YAAY;AAErC,eAAe;EAEXC,IAAG,EAAI,iBAAiB;EACxBC,UAAS,EAAI;IACTP,WAAW;IACXC,eAAe;IACfC,gBAAgB;IAChBC;EACJ,CAAC;EACDK,KAAI,EAAIA,CAAA,KAAM;IACV,MAAMC,KAAI,GAAIJ,QAAQ,CAAC;IACvB,MAAMK,MAAK,GAAID,KAAK,CAACE,MAAM,CAACD,MAAM;IAClC;IACA,MAAME,IAAG,GAAIR,QAAQ,CAAC,CAAC,CAAC,CAAC;IACzB,MAAMS,KAAI,GAAIT,QAAQ,CAAC,CAAC,CAAC,CAAC;IAE1B,MAAMU,MAAK,GAAIA,CAAA,KAAM;MACjB,IAAIF,IAAI,CAACG,WAAW,EAAE;MACtBH,IAAI,CAACI,aAAY,EAAG;MACpBJ,IAAI,CAACG,WAAU,GAAI,IAAI;IAC3B;IAEA,MAAME,QAAO,GAAIA,CAAA,KAAM;MACnB,IAAI,CAACL,IAAI,CAACG,WAAW,EAAE;MACvBH,IAAI,CAACI,aAAY,EAAI;MACrBJ,IAAI,CAACG,WAAU,GAAI,KAAK;IAC5B;IAEA,MAAMG,WAAU,GAAKC,OAAO,IAAK;MAC7B,IAAIA,OAAO,CAACC,KAAI,KAAM,EAAE,EAAE;MAC1BP,KAAK,CAACQ,KAAI,EAAI;MAEdR,KAAK,CAACA,KAAK,CAACS,OAAO,CAAC;QAChBC,EAAC,EAAIV,KAAK,CAACQ,KAAK;QAChBX,MAAK,EAAI,CAAC;QACVS,OAAM,EAAIA,OAAO,CAACC;MACtB,CAAC;IAEL;IAEA,OAAO;MACHR,IAAI;MAAI;MACRE,MAAM;MACNG,QAAQ;MACRJ,KAAK;MACLK,WAAW;MACXR;IACJ;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}