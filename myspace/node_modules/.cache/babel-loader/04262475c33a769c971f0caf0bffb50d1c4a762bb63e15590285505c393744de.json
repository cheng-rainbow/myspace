{"ast":null,"code":"import $ from 'jquery';\nimport { jwtDecode } from 'jwt-decode';\nconst modulesUser = {\n  state: {\n    id: \"\",\n    username: \"\",\n    photo: \"\",\n    followerCount: 0\n  },\n  getters: {},\n  mutations: {},\n  actions: {\n    login: (context, data) => {\n      $.ajax({\n        url: \"https://app165.acapp.acwing.com.cn/api/token/\",\n        type: \"POST\",\n        data: {\n          username: data.username,\n          password: data.password\n        },\n        success(resp) {\n          const {\n            access\n          } = resp;\n          const access_obj = jwtDecode(access);\n          $.ajax({\n            url: \"https://app165.acapp.acwing.com.cn/myspace/getinfo/\",\n            type: \"GET\",\n            data: {\n              user_id: access_obj.user_id\n            },\n            headers: {\n              'Authorization': \"Bearer \" + access\n            },\n            success(resp) {\n              console.log(resp);\n            }\n          });\n        }\n      });\n    }\n  },\n  modules: {}\n};\nexport default modulesUser;","map":{"version":3,"names":["$","jwtDecode","modulesUser","state","id","username","photo","followerCount","getters","mutations","actions","login","context","data","ajax","url","type","password","success","resp","access","access_obj","user_id","headers","console","log","modules"],"sources":["D:/a.project.vscode/项目/vue/myspace/src/store/user.js"],"sourcesContent":["import $ from 'jquery';\r\nimport {jwtDecode} from 'jwt-decode';\r\n\r\n\r\nconst modulesUser = {\r\n    state: {\r\n        id : \"\",\r\n        username : \"\",\r\n        photo : \"\",\r\n        followerCount : 0,\r\n    },\r\n\r\n    getters: {\r\n    },\r\n\r\n    mutations: {\r\n    },\r\n\r\n    actions: {\r\n        login : (context, data) => {\r\n            $.ajax({\r\n                url : \"https://app165.acapp.acwing.com.cn/api/token/\",\r\n                type : \"POST\",  \r\n                data : {\r\n                    username : data.username,\r\n                    password : data.password,\r\n                },\r\n                success(resp) {\r\n                    const {access} = resp;\r\n                    const access_obj = jwtDecode(access);\r\n                    $.ajax({\r\n                        url: \"https://app165.acapp.acwing.com.cn/myspace/getinfo/\",\r\n                        type: \"GET\",\r\n                        data : {\r\n                            user_id: access_obj.user_id,\r\n                        },\r\n                        headers: {\r\n                            'Authorization' : \"Bearer \" + access,\r\n                        },\r\n                        success(resp) {\r\n                            console.log(resp);\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    },\r\n\r\n    modules: {\r\n    }\r\n}\r\n\r\nexport default modulesUser;\r\n"],"mappings":"AAAA,OAAOA,CAAC,MAAM,QAAQ;AACtB,SAAQC,SAAS,QAAO,YAAY;AAGpC,MAAMC,WAAW,GAAG;EAChBC,KAAK,EAAE;IACHC,EAAE,EAAG,EAAE;IACPC,QAAQ,EAAG,EAAE;IACbC,KAAK,EAAG,EAAE;IACVC,aAAa,EAAG;EACpB,CAAC;EAEDC,OAAO,EAAE,CACT,CAAC;EAEDC,SAAS,EAAE,CACX,CAAC;EAEDC,OAAO,EAAE;IACLC,KAAK,EAAGA,CAACC,OAAO,EAAEC,IAAI,KAAK;MACvBb,CAAC,CAACc,IAAI,CAAC;QACHC,GAAG,EAAG,+CAA+C;QACrDC,IAAI,EAAG,MAAM;QACbH,IAAI,EAAG;UACHR,QAAQ,EAAGQ,IAAI,CAACR,QAAQ;UACxBY,QAAQ,EAAGJ,IAAI,CAACI;QACpB,CAAC;QACDC,OAAOA,CAACC,IAAI,EAAE;UACV,MAAM;YAACC;UAAM,CAAC,GAAGD,IAAI;UACrB,MAAME,UAAU,GAAGpB,SAAS,CAACmB,MAAM,CAAC;UACpCpB,CAAC,CAACc,IAAI,CAAC;YACHC,GAAG,EAAE,qDAAqD;YAC1DC,IAAI,EAAE,KAAK;YACXH,IAAI,EAAG;cACHS,OAAO,EAAED,UAAU,CAACC;YACxB,CAAC;YACDC,OAAO,EAAE;cACL,eAAe,EAAG,SAAS,GAAGH;YAClC,CAAC;YACDF,OAAOA,CAACC,IAAI,EAAE;cACVK,OAAO,CAACC,GAAG,CAACN,IAAI,CAAC;YACrB;UACJ,CAAC,CAAC;QACN;MACJ,CAAC,CAAC;IACN;EACJ,CAAC;EAEDO,OAAO,EAAE,CACT;AACJ,CAAC;AAED,eAAexB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}