{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// import store from '@/store';\nimport ContentBase from '../components/ContentBase.vue';\nimport { ref } from 'vue';\nimport { useStore } from 'vuex';\nimport router from '@/router/index';\nexport default {\n  name: \"RegisterView\",\n  components: {\n    ContentBase\n  },\n  setup: () => {\n    const store = useStore();\n    let username = ref('');\n    let password = ref('');\n    let err_message = ref('');\n    const login = () => {\n      err_message.value = \"\";\n      store.dispatch(\"login\", {\n        username: username.value,\n        password: password.value,\n        success: () => {\n          router.push({\n            name: 'UserListView'\n          });\n        },\n        error: () => {\n          err_message.value = \"用户名或密码错误\";\n        }\n      });\n    };\n    return {\n      username,\n      password,\n      err_message,\n      login,\n      store\n    };\n  }\n};","map":{"version":3,"names":["ContentBase","ref","useStore","router","name","components","setup","store","username","password","err_message","login","value","dispatch","success","push","error"],"sources":["D:\\a.project.vscode\\项目\\vue\\myspace\\src\\views\\RegisterView.vue"],"sourcesContent":["<template>\r\n    <ContentBase>\r\n        <div class=\"row justify-content-md-center \">\r\n            <div class=\"col-4\">\r\n                <form @submit.prevent=\"login\">\r\n                    <div class=\"form-group\">\r\n                        <label for=\"username\">username</label>\r\n                        <input v-model=\"username\" type=\"text\" class=\"form-control\" id=\"username\" aria-describedby=\"emailHelp\">\r\n                        <small id=\"usernameHelp\" class=\"form-text text-muted\">输入注册的邮箱</small>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"password\">password</label>\r\n                        <input v-model=\"password\" type=\"password\" class=\"form-control\" id=\"password\">\r\n                        <div class=\"err-message\">{{ err_message }}</div>\r\n                        <label for=\"password_confirm\">确认密码</label>\r\n                        <input v-model=\"password\" type=\"password\" class=\"form-control\" id=\"password_confirm\">\r\n                    </div>\r\n                    <button type=\"submit\" class=\"btn btn-primary\">登录</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        \r\n    </ContentBase>\r\n</template>\r\n\r\n<script>\r\n// import store from '@/store';\r\nimport ContentBase from '../components/ContentBase.vue'\r\nimport { ref } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport router from '@/router/index';\r\n\r\nexport default { \r\n    name : \"RegisterView\",\r\n    components : {\r\n        ContentBase \r\n    },\r\n    setup : () => {\r\n        const store = useStore();\r\n        let username = ref('');\r\n        let password = ref('');\r\n        let err_message = ref('');\r\n\r\n        const login = () => {\r\n            err_message.value = \"\";\r\n            store.dispatch(\"login\",{\r\n                username : username.value,\r\n                password : password.value,\r\n                success : () => {\r\n                    \r\n                    router.push({name : 'UserListView'})\r\n                },  \r\n                error : () => {\r\n                    err_message.value = \"用户名或密码错误\";\r\n                }\r\n            })\r\n        }\r\n\r\n        return {\r\n            username,\r\n            password,\r\n            err_message,\r\n            login,\r\n            store,\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.btn {\r\n    width: 100%;\r\n}\r\n\r\n.err-message {\r\n    color: red;\r\n}\r\n\r\n</style>"],"mappings":";AA0BA;AACA,OAAOA,WAAU,MAAO,+BAA8B;AACtD,SAASC,GAAE,QAAS,KAAK;AACzB,SAASC,QAAO,QAAS,MAAM;AAC/B,OAAOC,MAAK,MAAO,gBAAgB;AAEnC,eAAe;EACXC,IAAG,EAAI,cAAc;EACrBC,UAAS,EAAI;IACTL;EACJ,CAAC;EACDM,KAAI,EAAIA,CAAA,KAAM;IACV,MAAMC,KAAI,GAAIL,QAAQ,CAAC,CAAC;IACxB,IAAIM,QAAO,GAAIP,GAAG,CAAC,EAAE,CAAC;IACtB,IAAIQ,QAAO,GAAIR,GAAG,CAAC,EAAE,CAAC;IACtB,IAAIS,WAAU,GAAIT,GAAG,CAAC,EAAE,CAAC;IAEzB,MAAMU,KAAI,GAAIA,CAAA,KAAM;MAChBD,WAAW,CAACE,KAAI,GAAI,EAAE;MACtBL,KAAK,CAACM,QAAQ,CAAC,OAAO,EAAC;QACnBL,QAAO,EAAIA,QAAQ,CAACI,KAAK;QACzBH,QAAO,EAAIA,QAAQ,CAACG,KAAK;QACzBE,OAAM,EAAIA,CAAA,KAAM;UAEZX,MAAM,CAACY,IAAI,CAAC;YAACX,IAAG,EAAI;UAAc,CAAC;QACvC,CAAC;QACDY,KAAI,EAAIA,CAAA,KAAM;UACVN,WAAW,CAACE,KAAI,GAAI,UAAU;QAClC;MACJ,CAAC;IACL;IAEA,OAAO;MACHJ,QAAQ;MACRC,QAAQ;MACRC,WAAW;MACXC,KAAK;MACLJ;IACJ;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}